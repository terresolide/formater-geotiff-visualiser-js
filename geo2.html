<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.1.0/leaflet.css" />
   <style>
      .map {
        height: 700px;
        width: 100%;
      }
    </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.1.0/leaflet.js"></script>
    <script src="dist/geotiff.browserify.js"></script>
    <script src="lib/plotty.min.js"></script>
    <script src="leaflet-geotiff/leaflet-geotiff.js"></script>
    <title>GEOTIFF</title>
  </head>
  <body>
    <h2>leaflet + geotiff + plotty + leaflet-geotiff</h2>
    <div id="map" class="map"></div>
    


<script>
 var center = [19.963193897, -98.467355268];
var mymap = L.map('map').setView(center, 8);
L.tileLayer('//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets'
}).addTo(mymap);
  var geotiff= L.leafletGeotiff("geo_TOT_20150718.unw.tiff", { interactive:true, opacity:1, displayMin:1, displayMax:10, clampLow:false,  clampHigh:true,colorScale:"rainbow", vector:false, band:0});
  geotiff.addTo(mymap);

  //click on map -> search elevation of point
  geotiff.on('click',searchData);
  function searchData(e){
	  console.log(e.latlng);
	  console.log(e);
	  console.log( e.layer instanceof L.LeafletGeotiff);
	  
  }
</script>
  </body>
</html>